syntax = "proto3";

package inventory;

// ── Service ──────────────────────────────────────────────────────────────────

service InventoryService {
  rpc ReserveStock (ReserveStockRequest)  returns (ReserveStockResponse);
  rpc ReleaseStock (ReleaseStockRequest)  returns (ReleaseStockResponse);
  rpc GetProduct   (GetProductRequest)    returns (ProductResponse);
}

// ── Reserve Stock ────────────────────────────────────────────────────────────

message ReserveStockRequest {
  string producto_id = 1;
  int32  cantidad    = 2;
  string pedido_id   = 3;
}

message ReserveStockResponse {
  bool   success = 1;
  string message = 2;
}

// ── Release Stock ────────────────────────────────────────────────────────────

message ReleaseStockRequest {
  string producto_id = 1;
  int32  cantidad    = 2;
  string pedido_id   = 3;
}

message ReleaseStockResponse {
  bool   success = 1;
  string message = 2;
}

// ── Get Product ──────────────────────────────────────────────────────────────

message GetProductRequest {
  string producto_id = 1;
}

message ProductResponse {
  string producto_id    = 1;
  string sku            = 2;
  string nombre         = 3;
  string descripcion    = 4;
  double precio         = 5;
  string moneda         = 6;
  int32  disponibilidad = 7;
  int32  max_por_pedido = 8;
  string imagen_url     = 9;
}
